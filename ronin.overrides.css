
/* === Ronin overrides X3.4a｜修正：主題切換只影響「閱讀區背景」，UI 不變 === */

/* UI（頂部、工具列、標籤…）維持深色樣式，不隨主題變 */
header, .readerTop, .toolbar, .readerHeader, .seg, .chip, .badge, .tab, .search-box{
  background:#121212 !important;
  color:#fff;
  -webkit-backdrop-filter:none !important;
  backdrop-filter:none !important;
  filter:none !important;
  box-shadow:none !important;
  opacity:1 !important;
}

/* 只針對「閱讀文字區」依主題切換背景色 */
:root{ --paper-bg:#FAF9F6; --dark-bg:#0f0f10; --eye-bg:#0f1a14; }

/* 常見閱讀容器（盡量廣覆蓋） */
.reader-area, #reader, .reader, .article, .article-body, .pageContent, .content, main{ background: transparent; }

body.paper  #reader, body.paper  .reader, body.paper  .article, body.paper  .article-body, body.paper  .pageContent, body.paper  .content, body.paper  main { background: var(--paper-bg) !important; }
body.dark   #reader, body.dark   .reader, body.dark   .article, body.dark   .article-body, body.dark   .pageContent, body.dark   .content, body.dark   main { background: var(--dark-bg)  !important; }
body.eyecare#reader, body.eyecare.reader, body.eyecare.article, body.eyecare.article-body, body.eyecare.pageContent, body.eyecare.content, body.eyecare main { background: var(--eye-bg)   !important; }

/* 書籤維持無條紋與新位置（沿用 X3.4） */
#bookmark, #bmFloat{
  position: fixed !important;
  right: 16px !important;
  top: calc(50% + 12vh) !important;
  width: 56px; height: 56px;
  display: grid; place-items: center;
  border-radius: 22px !important;
  background:#0f1113 !important;
  color:#fff !important;
  border: 1px solid #1e2227 !important;
  box-shadow: none !important;
  mix-blend-mode: normal !important;
  filter: none !important;
  -webkit-backdrop-filter:none !important; backdrop-filter:none !important;
  transform: translate3d(0,0,0);
  will-change: transform;
  isolation:isolate; contain:paint;
  z-index: 2147483647 !important;
}
#bookmark::before,#bookmark::after,#bmFloat::before,#bmFloat::after{content:none!important;display:none!important;}
.fab#bookmark,.fab#bmFloat{ background:#0f1113 !important; border:1px solid #1e2227 !important; box-shadow:none !important; }

/* 閱讀頂部固定實色（避免疊色）；完成鈕同風格 */
.readerTop, .readerHeader, header{ background:#121212 !important; }
.rn-done{
  background:#0f1113 !important;
  color:#fff !important;
  border:1px solid #1e2227 !important;
  box-shadow:none !important;
  transform: translate3d(0,0,0);
  isolation:isolate;
}
